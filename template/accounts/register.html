{% extends 'base.html' %}
{% load static %}
            {% block content %}
            {% if not request.user.is_authenticated %}
            <form class="site-form superCont" action="{% url 'register' %}" method="post" >
                {% csrf_token %}
                <div class="container col-md-8 cont  ">
                    {% if  isadded %}
                    {% include 'partion/messages.html' %}
                    <div class="d-flex justify-content-center text-center">
                        
                       <div class="row py-5 my-5">
                        <h1 class="text-center">Your account created</h1>
                        <p class="text-center">We send to your email code if u didnt recive an mail then click <span style="color:red">Send</span> </p>
                        <form class="mx-2" action="" method="post">{% csrf_token %}
                            <input class="form-group col-md-8 col-ms-8 col-8 " type="text" id="" name="mess" placeholder="Code">
                             <button class="col-md-2 col-sm-2 col-2 btn btn-danger" name="messsend" type="button">Send</button> 
                             <button class="col-md-2 col-sm-2 col-2 btn btn-success" name="messok" type="submit">submit</button>
                            </form>
                       </div>
                      
                       
                    </div>
        
                    {%else%}
                    {% include 'partion/messages.html' %}
                    <div class="row  pt-5">
                        <h2 class="text-center">Sign Up</h2>                   
                    </div>
                    <hr>
                    <div class="row">
                        <div class="form-group col-6  col-sm-6 col-xs-2">
                            <label for="inputFirstName">First Name</label>
                            <input type="text" name="fname" class="form-control clearDone " value="{{fname}}" id="inputFirstName" required>
                        </div>
                        <div class="form-group col-6 col-md-6">
                            <label for="inputLastName">Last Name</label>
                            <input type="text" name="lname" class="form-control clearDone" value="{{lname}}" id="inputLastName" required>
                        </div>
                    </div>
        
                    <div class="form-group">
                        <label for="inputAddress">Address</label>
                        <input type="text" name="address1" class="form-control clearDone" value="{{address1}}" id="inputAddress" placeholder="1234 Main St" required>
                    </div>
                    <div class="form-group">
                        <label for="inputAddress2">Address 2</label>
                        <input type="text"  name="address2" class="form-control clearDone" value="{{address2}}" id="inputAddress2" placeholder="Apartment, studio, or floor">
                    </div>
                    <div class="row">
                        <div class="form-group col-6 col-md-6">
                            <label for="inputCity">City</label>
                            <input type="text" name="city" class="form-control clearDone" value="{{city}}" id="inputCity" required>
                        </div>
                        <div class="form-group col-4  col-md-4">
                            <label for="inputZip">Govrment</label>
                            <input type="text" name="state" class="form-control clearDone" value="{{state}}" id="inputZip" required>
                        </div>
                        <div class="form-group col-2 col-md-2">
                            <label for="inputZip">Zip</label>
                            <input type="text" name="zip" class="form-control clearDone" value="{{zip}}"  placeholder="11111" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputEmail">Email</label>
                        <input type="email" name="email" class="form-control clearDone"
                            {%if '2' in stateoferror %}
                            value=""
                            style="border:3px solid red!important;"
                            {% else %}
                            value="{{email}}"
                            {% endif %} 
                         id="inputEmail" placeholder="name@example.com" required>
                    </div>
                    <div class="row">
                        <div class="form-group col-4 col-md-4">
                            <label for="inputUsername">Username</label>
                            <input type="text" name="username" class="form-control clearDone"
                        
                            {%if '1' in stateoferror %}
                            value=""
                            style="border:3px solid red!important;"
                            {% else %}
                            value="{{username}}"
                            {% endif %}

                            id="inputUsername" placeholder="" required>
                        </div>
                        <div class="form-group col-4 col-md-4">
                            <label for="inputPassword">Password</label>
                            <input type="password" name="password1" class="form-control clearDone"

                                {%if '3' in stateoferror %}
                                value=""
                                style="border:3px solid red!important;"
                                {% else %}
                                value="{{password1}}"
                                {% endif %}

                             required>
                        </div>
                        <div class="form-group col-4 col-md-4">
                            <label for="inputPassword">Confirm_Password</label>
                            <input type="password" name="password2" class="form-control clearDone" 

                                {%if '3' in stateoferror %}
                                value=""
                                style="border:3px solid red!important;"
                                {% else %}
                                value="{{password1}}"
                                {% endif %}

                            id="inputPassword" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="pretty p-svg p-curve p-jelly">
                            <input type="checkbox" id="inputTerms" name="term" />
                                <label>I agree to the <a style="color: white!important;"  href="{% url 'terms' %}">terms</a> of use and privacy policy</label>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center pb-1">
                        <button type="submit" class="btn btn-success submit">Sign Up</button>
                        <button type=" " class="btn btn-danger clear"> Clear</button>
                    </div>

                    {% endif %}
                </div>
            </form>
            <!-- error in fields -->
            <script>
                let clear=document.querySelector('.clear');
                let getvalue=document.querySelectorAll('.clearDone');
                clear.onclick=function(e){
                        getvalue.forEach((e)=>{
                           // console.log(e.style.borderColor);
                            e.value='';
                        });
                        }; 
            </script>
            {% if request.POST  and 'register' in  request.path%}
            <script>
                    getvalue.forEach((e)=>{
                            e.onmouseover=function(){
                                if( e.style.borderColor == 'red' && e.value !=null )
                                    e.style.borderColor='transparent';
                            e.onmouseout=function(){
                                if( e.value == '')
                                    {// console.log('done');
                                    e.style.borderColor='red';}
                                    }; 
                            }; 
                    });  
            </script>
            {% endif %}
        {% else %}
        <div style="width:100% ; height:450px ;  display: flex; align-items: center; justify-content: center; padding-bottom: 100px;">
            Your Already Login Do You Want To  <a href="{% url 'logout' %} " style="color: white; margin-left: 2px;"> Logout</a> 
         </div>   
        {% endif %}

{% endblock %}